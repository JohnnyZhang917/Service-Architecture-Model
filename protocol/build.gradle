

repositories {
     add(new org.apache.ivy.plugins.resolver.FileSystemResolver()) {
            name = 'localRepo'
            addIvyPattern "$projectDir/../../localRepo/[organisation]/[module]/ivys/ivy-[revision].xml"
            addArtifactPattern "$projectDir/../../localRepo/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"
            checkmodified = false
        }
}


configure(subprojects.findAll {it.name != 'definition' && it.name != 'infrastructure'}) {
	apply plugin: 'eclipse'
	apply from: "${rootProject.projectDir}/all-jars.gradle"

	sourceCompatibility = 1.6
	version = '0.3.2.alpha'
	group = 'eu.pmsoft'

	repositories {
        	mavenCentral()
		maven {
			url "http://repository-netty.forge.cloudbees.com/snapshot/"
		}
		add rootProject.repositories.localRepo

    	}

    	eclipse {
        	classpath {
        	downloadSources = true
        	downloadJavadoc = true
        }

	test {
		useTestNG()
		options {
		}
	}
	uploadArchives {
    		repositories {
       			add rootProject.repositories.localRepo
    		}
	}


    }
}

project(':definition:samModel') {
    dependencies {
        compile project(':definition:samCoreApi')
    }
}
project(':infrastructure:samExecution') {
	dependencies {
        	compile project(':definition:samModel')
        	compile project(':definition:samCoreApi')
        	compile project(':infrastructure:samTransport')
	}
}
